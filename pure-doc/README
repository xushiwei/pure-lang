
pure-doc
========

:Author: Albert Graef <Dr.Graef@t-online.de>
:License: GPL V3, see the accompanying COPYING file

This is a very simple program to scrape docstrings in docutils RST format from
Pure scripts.

To install: ``make && sudo make install``

To run: ``pure-doc filename ...``

You can specify any number of filenames; they will all be processed in the
specified order. If no filename is specified, input is read from stdin. Output
is written to stdout. There are no other options right now. A comment (either
``/* ... */`` or a contiguous sequence of ``//`` line comments) is assumed to
contain a RST-formatted docstring if the first non-empty line starts with
``:``, ``..`` or ``__``. Indentation is preserved (assuming tabs = 8 spaces,
you can change this in pure-doc.ll).

pure-doc makes no other assumption about the docstring contents, so you can
include whatever you want: titles, section headers, fields, plain text,
whatever. Just make sure that the docstring starts with one of the special
tokens listed above. (You can always put just ``..`` at the beginning of the
comment to force it to be treated as a docstring, this will be treated as a
comment by the docutils tools.) Also, pure-doc makes very few assumptions
about the source; in fact, any source files with a C/C++-like comment and
string syntax should work.

Here is a sample entry::

  /* :Name: ``rand`` - compute random numbers
     :Synopsis: ``rand``
     :Description: Computes a (pseudo) random number. Takes no parameters.
     :Example: Here is how you can call ``rand`` in Pure:
       ::

         > extern int rand();
         > rand;
         1804289383

     :See Also: rand(3) */

See http://docutils.sourceforge.net/ for a description of the docutils tools
and the markup that can be used.

E.g., to scrape the above comment from this file and format it as html::

  pure-doc README | rst2html.py --no-doc-title --no-doc-info > test.html

Note that this README itself is also in RST format, so you can also do the
following to get nicely formatted documentation::

  rst2html.py README pure-doc.html

(You can also just type ``make html`` to get this.)

Enjoy! :)
